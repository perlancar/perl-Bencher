#!perl

# DATE
# VERSION

use 5.010001;
use strict;
use warnings;

use Bencher;
use Perinci::CmdLine::Any;

our %SPEC;

$SPEC{format_result} = $Bencher::SPEC{format_result};
sub format_result {
    # pericmd hasn't done automatic decoding yet, here we decode using JSON
    my $envres = shift;

    unless (ref($envres->[0])) {
        require JSON;
        $envres = JSON::decode_json($envres->[0]);
    }

    Bencher::format_result($envres);
}

Perinci::CmdLine::Any->new(url => '/main/format_result')->run;

#ABSTRACT: Format bencher result
#PODNAME:

=head1 SYNOPSIS

 % bencher -m SomeModule --json > /path/to/bencher-output.json

Later:

 % bencher-fmt < /path/to/bencher-output.json
